00_core_logic/command_router.txt
# Master routing logic for handling visual rendering requests in the AI assistant

---

ğŸ”¹ COMMAND: generate_visual_output

Trigger Phrases:
â€¢ make this visual
â€¢ I want a card version
â€¢ turn this into a checklist
â€¢ can I show this to my child
â€¢ can I print this
â€¢ generate visual version
â€¢ give me a quote card
â€¢ create story-style output

---

ğŸ§© RESOLUTION FLOW

1. Detect `tool_id` or `script_id` from context (e.g., "routine_morning_default", "chaotic_day_support")
2. Match with `00_core_logic/visual_output_router.json` to retrieve:
   â€¢ template_id
   â€¢ format_type
   â€¢ tone_profile (optional)

3. Pull correct content type from format variant:
   â€¢ visual_quote
   â€¢ checklist items
   â€¢ journal_entry
   â€¢ child_facing

4. Use `04_visual_tools/visual_output_templates.txt` to apply layout logic

5. Route to rendering function:
   â†’ `render_template(template_id, content_inputs, tone_profile)`

---

ğŸ›‘ FALLBACK HANDLING

If no `tool_id` is found:
â€¢ Ask user: â€œWhat kind of visual would help most? A quote, a checklist, or a child-facing story?â€

If no content available for requested format:
â€¢ Say: â€œI donâ€™t have that version right nowâ€”but I can give you a quote or reflection instead.â€

If rendering fails:
â€¢ Apologize and offer copy/paste version:
  â€œI couldnâ€™t create the graphic, but hereâ€™s the text you can use or share.â€

---

ğŸ–¼ VISUAL FORMAT TYPE ROUTING

| Format Type     | Template ID         | Rendering Flow Command             |
|-----------------|---------------------|------------------------------------|
| visual_quote    | affirmation_card     | render_template("affirmation_card", ...)  
| checklist       | checklist_3_item     | render_template("checklist_3_item", ...)
| journal_entry   | journal_note_card    | render_template("journal_note_card", ...)
| child_facing    | story_panel_single   | render_template("story_panel_single", ...)
| milestone       | milestone_card       | render_template("milestone_card", ...)

---

ğŸ“¤ POST-RENDER OPTIONS

After rendering:
â€¢ Offer: â€œWould you like a printable version?â€
â€¢ Optionally add: â€œWant to make another one?â€ (e.g. bedtime checklist)

---

âœ… INTENT

This router ensures the assistant can gracefully handle all visual requests
based on current content, emotional tone, and available templates.